@model List<ArticleVO>
@using Maya.Services.VO
@using Maya.Services.BO
@{
    ViewBag.Title = "文章列表";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.HeaderTitle = "文章列表 <small>dashboard & statistics</small>";
}

<!-- BEGIN PAGE CONTENT-->
<div class="row">
    <div class="col-md-12">
        <!-- BEGIN EXAMPLE TABLE PORTLET-->
        <div class="portlet box grey-cascade">
            <div class="portlet-title">
                <div class="caption">
                    <i class="fa fa-globe"></i>文章列表
                </div>
            </div>
            <div class="portlet-body">
                <div class="table-toolbar">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="btn-group">
                                <a href="@Url.Action("Create")" class="btn green">新增记录<i class="fa fa-plus"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table table-striped table-bordered table-hover" id="sample_1">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>标题</th>
                            <th>类别</th>
                            <th>所属地点</th>
                            <th>创建时间</th>
                            <th>修改</th>
                            <th>删除</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (ArticleVO item in Model) {
                            <tr class="odd gradeX">
                                <td>
                                    @item.ArticleId
                                </td>
                                <td>
                                    @item.Title
                                </td>
                                <td>
                                    @CategoryBO.GetInstance().GetItem( item.CategoryId ).Name
                                </td>
                                <td>
                                    @DistrictBO.GetInstance().GetItem( item.DistrictId ).Name
                                </td>
                                <td class="center">
                                    @item.CreatedDate.ToString( "yyyy-MM-dd HH:mm:ss" )
                                </td>
                                <td>
                                    @Html.ActionLink( "修改", "Create", new { id = item.ArticleId } )
                                </td>
                                <td>
                                    @Html.DeleteLink( Url.Content( "~/Content/img/remove-icon-small.png" ), "Delete", new { id = item.ArticleId }, new { title = "删除文章", onclick = "return confirm('确定要删除此文章吗？');" } )
                                </td>
                            </tr>}

                        @if (Model.Count == 0) {
                            <tr class="odd gradeX"><td colspan="7" class="center">暂无音乐数据</td></tr>}
                    </tbody>
                </table>
            </div>
        </div>
        <!-- END EXAMPLE TABLE PORTLET-->
    </div>
</div>
<!-- END PAGE CONTENT-->
@section BreadCrumb {
    <ul class="page-breadcrumb">
        <li>
            <i class="fa fa-home"></i>
            <a href="index.html">Home</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="#">Data Tables</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="#">Responsive Datatables</a>
        </li>
    </ul>
}
@section HeaderStyles {
    <!-- BEGIN PAGE LEVEL STYLES -->
    <link rel="stylesheet" type="text/css" href="~/Scripts/plugins/select2/select2.css" />
    <link rel="stylesheet" type="text/css" href="~/Scripts/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.css" />
    <!-- END PAGE LEVEL STYLES -->
}
@section FooterScripts {
    <script type="text/javascript" src="~/Scripts/plugins/select2/select2.min.js"></script>
    <script type="text/javascript" src="~/Scripts/plugins/datatables/media/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="~/Scripts/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js"></script>
    <script src="~/Scripts/admin/pages/table-managed.js"></script>
    <script>
        jQuery(function ($) {
            //TableManaged.init();
        });
    </script>
}

